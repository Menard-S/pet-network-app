<div id="pet_comments_section" class="bg-white shadow-lg rounded-lg p-8 w-full max-w-4xl mx-auto mt-8">
  <h2 class="text-2xl font-bold mb-4">Comments</h2>
  <% if pet_comments.any? %>
    <% pet_comments.each do |comment| %>
      <div class="mb-4 pb-4 border-b border-gray-200">
        <div class="flex items-start mb-2">
          <div class="w-10 h-10 rounded-full overflow-hidden flex-shrink-0 mr-4">
            <i class="fa fa-user-alt text-gray-400 text-3xl"></i>
          </div>
          <div class="flex-1">
            <p class="text-gray-700 font-semibold"><%= comment.user.username %></p>
            <p class="text-gray-500 text-sm"><%= time_ago(comment.created_at) %></p>
          </div>
        </div>
        <p class="text-gray-700"><%= comment.comment_text %></p>
      </div>
    <% end %>
  <% else %>
    <p class="text-center text-gray-500">No comments yet.</p>
  <% end %>

  <div class="mt-8">
    <%= form_with(model: [pet, pet.pet_comments.build], local: true, url: shelter_namespace_pet_pet_comments_path(pet)) do |form| %>
      <div class="mb-4">
        <%= form.label :comment_text, "#{current_user.shelter.name}'s comment", class: "block text-gray-700" %>
        <%= form.text_area :comment_text, rows: 3, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring focus:ring-teal-200 focus:ring-opacity-50" %>
      </div>
      <div class="flex justify-center">
        <%= form.submit "Post Comment", class: "bg-teal-500 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
      </div>
    <% end %>
  </div>
</div>
